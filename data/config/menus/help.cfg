newgui help [
    guilist [
        if ($isconnected) [
            guilist [
                guione [
                    guicenter [
                        guifont "emphasis" [
                            guitext "Current ^fs^fcmode^fS"
                            if ($mutators) [
                                guitext " and ^fs^fymutators^fS:"
                            ] [
                                guitext ":"
                            ]
                        ]
                    ]
                    guilist [
                        guispring
                        looplist i (modetexlist $gamemode $mutators 1) [
                            guiimage $i [showgui (substr @i 21)] 2
                        ]
                        guispring
                    ]
                    guicenter [ guitext ( concatword  "^fc" (modedesc $gamemode 1 3) ) ]
                    loop i $mutsidxnum [
                        if (& (<< 1 $i) $mutators) [  
                            guicenter [ guitext ( concatword  "^fy" (mutsdesc $gamemode (<< 1 $i) 3) ) ]
                        ]
                    ]
                ]
            ]
            guistrut 0.5
            guibar
            guistrut 0.5
        ]
        guione [
            guilist [
                guifont "emphasis" [
                    guicenter [ guibutton "about" "showgui about" ]
                    guicenter [ guibutton "accounts" "showgui accounts" ]
                    guicenter [ guibutton "live support" "showgui support" ]
                    guicenter [ guibutton "modes & mutators" "showgui modes-mutators" ]
                    guicenter [ guibutton "parkour" "showgui parkour" ]
                    guicenter [ guibutton "rules" "showgui rules" ]
                    guicenter [ guibutton "scoring" "showgui scoring" ]
                ]
            ]
        ]
    ]
    guivisible [ guitip (format "press %1 to open this menu at any time" (dobindsearch "showgui help")) ]
]

newgui about [
    guione [
        guicenter [ guitext "Red Eclipse Engine" ]
        guifont "little" [
            guicenter [ guitext "(C) 2010-2014 Quinton Reeves, Lee Salzman" ]
            guicenter [ guitext "http://www.redeclipse.net/" ]
        ]
        guistrut 1
        guicenter [ guitext "Red Eclipse Data" ]
        guifont "little" [
            guicenter [ guitext "(C) 2010-2014 Red Eclipse Team" ]
            guicenter [ guitext "http://www.redeclipse.net/" ]
        ]
        guistrut 1
        guicenter [ guitext "Based on Cube Engine 2" ]
        guifont "little" [
            guicenter [ guitext "(C) 2001-2014 Wouter van Oortmerssen, Lee Salzman" ]
            guicenter [ guitext "Mike Dysart, Robert Pointon, and Quinton Reeves" ]
            guicenter [ guitext "http://sauerbraten.org/" ]
        ]
    ]
]

livesupport = 0
newgui support [
    guiheader "live support"
    if $livesupport [
        ircgui freenode
    ] [
        guifont "emphasis" [ guicenter [ guitext "ONLINE LIVE SUPPORT" ] ]
        guistrut 0.5
        guicenter [ guitext "You are about to enter the main project chat room." ]
        guistrut 0.25
        guifont "little" [
            guicenter [ guitext "From there, you can ask questions or talk to the community." ]
            guicenter [ guitext "Please be patient, as you may not get a response immediately." ]
        ]
        guistrut 0.5
        guicenter [ guitext "Are you sure you wish to continue?" ]
        guistrut 0.5
        guicenter [ guistayopen [
            guibutton "^fgYES, continue" [livesupport = 1; ircaddclient freenode irc.freenode.net 6667 (getplayername); ircaddchan freenode #redeclipse ]
            guispring 1
            guibutton "^foNO, go back" [cleargui 1]
        ] ]
    ]
]

newgui modes-mutators [
    guiheader "modes & mutators"
    guifont "emphasis" [ guicenter [ guitext "GAME MODES & MODE MUTATORS" ] ]
    guistrut 0.5
    guicenter [ guitext "Red Eclipse has a variety of different game modes to choose from," ]
    guicenter [ guitext "with mutators to further tweak the experience." ]
    guistrut 0.25
    guifont "little" [
        guicenter [ guitext "(select a ^fs^fcmode^fS or ^fs^fymutator^fS to learn more)" ]
    ]
    guistrut 1
    guicenter [
        guilist [
            guilist [
                guilist [
                    guifont "emphasis" [ guitext "Game Modes" ]
                    guibar
                    loop i 10 [
                        gmdl = (at $modeidxname $i)
                        guicenter [ guibutton $gmdl [showgui @gmdl] [] "" 0x00FFFF ]
                    ]
                ]
                guistrut 0.5
                guibar
                guistrut 0.5
                guilist [
                    guifont "emphasis" [ guitext "Mode Mutators" ]
                    guibar
                    loop i 20 [
                        gmtl = (at $mutsidxname $i)
                        guicenter [ guibutton $gmtl [showgui @gmtl] [] "" 0xFFFF00 ]
                    ]
                ]
            ]
        ]
    ]
]

newgui demo [
    guiheader "demo mode"
    guilist [
        guiimage "textures/spectator" [] 2
        guistrut 1
        guilist [
            guistrut 0.5
            guicenter [ guitext "Spectate a recorded match from any player's perspective. Speed up or slow down the action," ]
            guicenter [ guitext "viewing every key an opponent presses and every opportunity missed!" ]
        ]
    ]
]

newgui editing [
    guiheader "edit mode"
    guilist [
        guiimage "textures/modes/edit" [] 2
        guistrut 1
        guilist [
            guistrut 0.5
            guicenter [ guitext "Make your own custom maps or edit an existing map using a wide variety of textures, models," ]
            guicenter [ guitext "entities and world variables. If your creation is worthy it could be included in Red Eclipse!" ]
        ]
    ]
]

newgui deathmatch [
    guiheader "deathmatch mode"
    guilist [
        guiimage "textures/modes/deathmatch" [] 2
        guistrut 1
        guilist [
            guistrut 0.5
            guicenter [ guitext "Attack enemy players gathering frags, assists, sprees and other bonuses to score points." ]
            guicenter [ guitext "The team or individual with the most points at the end wins!" ]
        ]
    ]
    guitab "tips & strategy"
        guistrut 0.5
        guitext "tip one" point
        guitext "tip two" point
        guitext "tip three" point
    guitab "practice"
]

newgui capture [
    guiheader "capture-the-flag mode"
    guilist [
        guiimage "textures/modes/capture" [] 2
        guistrut 1
        guilist [
            guistrut 0.5
            guicenter [ guitext "Capture the enemy team's flag and return it to your base while defending your own flag from capture." ]
            guicenter [ guitext "Secure both flags at your base to score a point, the team with the most points at the end wins!" ]
        ]
    ]
    guitab "tips & strategy"
        guistrut 0.5
        guitext "Drop your team's flag into lava or an open abyss to reset it back to the base." point
        guitext "Remember, defending your own flag is as important as stealing the flag from the enemy." point
        guitext "Beware of players who hold grenades in defending positions near a flag." point
        guitext "Use impulse boosts and parkour tricks to steal the flag and make your escape more efficiently." point
        guitext "In Multi Capture-the-Flag, make your target the weakest team!" point
        guitext "In Survivor Capture-the-Flag, if you are the last player alive on your team and at a disadvantage, press %1 to suicide and respawn your teammates" point
        guitext "In Multi-Survivor Capture-the-Flag, up to three points may be gained per round. Try to gather several flags and capture them all at once!" point
        guitext "In Defend Capture-the-Flag, lure the opponent holding your team's flag into an easily defensible spot to successfully reset the flag." point
        guitext "In Protect Capture-the-Flag, secure your own team's flag by pressing %1 as soon as possible to make stealing it harder." point
        guitext "In Protect Capture-the-Flag, use cunning parkour maneuvers to evade the enemy team long enough while holding their flag." point
]
//                guicenter [ guibutton "capture-the-flag quick" "showgui capturequick" ]
//                guicenter [ guibutton "capture-the-flag defend" "showgui capturedefend" ]
//                guicenter [ guibutton "capture-the-flag protect" "showgui captureprotect" ]

newgui defend [
    guiheader "defend-and-control mode"
    guilist [
        guiimage "textures/modes/defend" [] 2
        guistrut 1
        guilist [
            guistrut 0.5
            guicenter [ guitext "Secure and defend control points scattered around the map by standing near them for a set period of time." ]
            guicenter [ guitext "Overthrow enemy control points then secure them for your own team to gain an advantage. Every secured" ]
            guicenter [ guitext "control point provides a steady stream of points, the team with the most points at the end wins!" ]
        ]
    ]
    guitab "tips & strategy"
        guistrut 0.5
        guitext "tip one" point
        guitext "tip two" point
        guitext "tip three" point
]
//                guicenter [ guibutton "defend-and-control king" "showgui defendking" ]
//                guicenter [ guibutton "defend-and-control quick" "showgui defendquick" ]

newgui bomber [
    guiheader "bomber-ball mode"
    guilist [
        guiimage "textures/modes/bomber" [] 2
        guistrut 1
        guilist [
            guistrut 0.5
            guicenter [ guitext "Secure the bomber-ball and deliver it to the enemy base to destroy it, but watch the timer!" ]
            guicenter [ guitext (format "If the timer runs out, the ball will explode and you with it. Press %1 to throw it before this" (dobindsearch "affinity") ) ]
            guicenter [ guitext (format "happens, or hold %1 and lock target on a teammate to pass the ball, resetting the timer." (dobindsearch "affinity") ) ]
        ]
    ]
    guitab "tips & strategy"
        guistrut 0.5
        guitext "tip one" point
        guitext "tip two" point
        guitext "tip three" point
]
//                guicenter [ guibutton "bomber-ball hold" "showgui bomberhold" ]
//                guicenter [ guibutton "bomber-ball basket" "showgui bomberbasket" ]
//                guicenter [ guibutton "bomber-ball attack" "showgui bomberattack" ]

newgui trial [
    guiheader "time-trial mode"
    guilist [
        guiimage "textures/modes/trial" [] 2
        guistrut 1
        guilist [
            guistrut 0.5
            guicenter [ guitext "Compete in a timed race to reach the end of the track before opponents, carefully managing" ]
            guicenter [ guitext (format "your limited impulse and performing parkour tricks with the %1 button. Reaching a" (dobindsearch "special") ) ]
            guicenter [ guitext "checkpoint will allow you to respawn from there, but the clock ticks on!" ]
        ]
    ]
]
//                guicenter [ guibutton "time-trial marathon" "showgui trialmarathon" ]
//                guicenter [ guibutton "time-trial endurance" "showgui trialendurance" ]
//                guicenter [ guibutton "time-trial gauntlet" "showgui trialgauntlet" ]

newgui multi [
    guiheader "multi mutator"
    guilist [
        guiimage "textures/modes/multi" [] 2
        guistrut 2
        guitext "Play with four teams instead of two." "" -1 -1 1200
    ]
]

newgui ffa [
    guiheader "free-for-all mutator"
    guilist [
        guiimage "textures/modes/ffa" [] 2
        guistrut 2
        guitext "There are no teams, just every player for themselves in a free-for-all showdown. (Not available in Capture-the-Flag or Defend-and-Control)" "" -1 -1 1200
    ]
]

newgui coop [
    guiheader "co-op mutator"
    guilist [
        guiimage "textures/modes/coop" [] 2
        guistrut 2
        guitext "All human players are forced onto the same team, battling against a team of bots... and there are more of them than there are of you!" "" -1 -1 1200
    ]
]

newgui instagib [
    guiheader "instagib mutator"
    guilist [
        guiimage "textures/modes/instagib" [] 2
        guistrut 2
        guitext "Players spawn with 1 HP, so any hit is lethal. Unless the medieval or kaboom mutators are also selected, players only spawn with the rifle. All rifle spawns become grenade spawns." "" -1 -1 1200
    ]
]

newgui medieval [
    guiheader "medieval mutator"
    guilist [
        guiimage "textures/modes/medieval" [] 2
        guistrut 2
        guitext "Players only spawn with swords. All sword spawns become grenade spawns." "" -1 -1 1200
    ]
]

newgui kaboom [
    guiheader "kaboom mutator"
    guilist [
        guiimage "textures/modes/kaboom" [] 2
        guistrut 2
        guitext "Players only spawn with grenades and mines. Grenades and mines reload in this mutator like a normal loadout weapon." "" -1 -1 1200
    ]
]

newgui duel [
    guiheader "duel mutator"
    guilist [
        guiimage "textures/modes/duel" [] 2
        guistrut 2
        guitext "Only two players spawn at a time, the rest are placed in a queue. The winner always continues to the next round in a free-for-all duel, while the loser always gets placed at the end of the queue." "" -1 -1 1200
    ]
]

newgui survivor [
    guiheader "survivor mutator"
    guilist [
        guiimage "textures/modes/survivor" [] 2
        guistrut 2
        guitext "All players spawn as normal, but there is no health regeneration. The last player or team standing wins the round. Players that die are placed in a queue to respawn in the next round." "" -1 -1 1200
    ]
]

newgui classic [
    guiheader "classic mutator"
    guilist [
        guiimage "textures/modes/classic" [] 2
        guistrut 2
        guitext "Everyone spawns with only a pistol. The rest of the weapons can be found at spawn points scattered acround the map." "" -1 -1 1200
    ]
]

newgui onslaught [
    guiheader "onslaught mutator"
    guilist [
        guiimage "textures/modes/onslaught" [] 2
        guistrut 2
        guitext "Enemy drones and sentry turrets spawn in the middle of the action. If one of them kills you, you lose points!" "" -1 -1 1200
    ]
]

newgui freestyle [
    guiheader "freestyle mutator"
    guilist [
        guiimage "textures/modes/freestyle" [] 2
        guistrut 2
        guitext "There are no impulse limits, the meter is never depleted so get your parkour on!" "" -1 -1 1200
    ]
]

newgui vampire [
    guiheader "vampire mutator"
    guilist [
        guiimage "textures/modes/vampire" [] 2
        guistrut 2
        guitext "Damage dealt to enemies causes you to regenerate the same amount of health. The default cap in this mutator is 300 health." "" -1 -1 1200
    ]
]

newgui resize [
    guiheader "resize mutator"
    guilist [
        guiimage "textures/modes/resize" [] 2
        guistrut 2
        guitext "As your health decreases, you become smaller and your speed decreases. The opposite is true when you gain health. When combined with the instagib mutator you become larger every time you kill an enemy, until you die and return to normal size." "" -1 -1 1200
    ]
]

newgui hard [
    guiheader "hard mutator"
    guilist [
        guiimage "textures/modes/hard" [] 2
        guistrut 2
        guitext "Players spawn without a radar. There is no health regeneration in this mutator." "" -1 -1 1200
    ]
]

newgui capturequick [
    guiheader "capture-the-flag quick mutator"
    guilist [
        guiimage "textures/modes/capturequick" [] 2
        guistrut 2
        guitext "Touching your own team's loose flag will instantly teleport it back to your base, instead of having to escort it there on foot." "" -1 -1 1200
    ]
]

newgui capturedefend [
    guiheader "capture-the-flag defend mutator"
    guilist [
        guiimage "textures/modes/capturedefend" [] 2
        guistrut 2
        guitext "When your flag is taken from your base, you cannot pick it up. You must protect it from where it's dropped until the timer resets." "" -1 -1 1200
    ]
]

newgui captureprotect [
    guiheader "capture-the-flag protect mutator"
    guilist [
        guiimage "textures/modes/captureprotect" [] 2
        guistrut 2
        guitext "Instead of scoring for returning an enemy flag to your base, you simply must pick it up and hold onto it for 15 seconds to score. You may also carry your own flag around while seeking out others." "" -1 -1 1200
    ]
]

newgui defendking [
    guiheader "defend-and-control king mutator"
    guilist [
        guiimage "textures/modes/defendking" [] 2
        guistrut 2
        guitext "There is only one control point in this mutator. The objective: make your team king of the hill." "" -1 -1 1200
    ]
]

newgui defendquick [
    guiheader "defend-and-control quick mutator"
    guilist [
        guiimage "textures/modes/defendquick" [] 2
        guistrut 2
        guitext "Control points are secured much more quickly in this mutator. When capturing enemy control points there is no neutral state, the point is captured immediately for your team." "" -1 -1 1200
    ]
]

newgui bomberhold [
    guiheader "bomber-ball hold mutator"
    guilist [
        guiimage "textures/modes/bomberhold" [] 2
        guistrut 2
        guitext "Instead of bringing the ball to a goal, you earn points in this mutator by holding the ball as long as possible. Killing an enemy will reset the explode timer. The ball will still explode when the timer runs out however, resulting in drastic point loss, so throw it away or pass it to a teammate before this happens!" "" -1 -1 1200
    ]
]

newgui bomberbasket [
    guiheader "bomber-ball basket mutator"
    guilist [
        guiimage "textures/modes/bomberbasket" [] 2
        guistrut 2
        guitext "Instead of bringing the ball to the goal on foot, you absolutely must throw it in to score. You also must be far enough away from the goal when throwing." "" -1 -1 1200
    ]
]

newgui bomberattack [
    guiheader "bomber-ball attack mutator"
    guilist [
        guiimage "textures/modes/bomberattack" [] 2
        guistrut 2
        guitext "One team spawns with the ball at their goal while all others try to prevent the team from scoring at another goal. Afer a set time, the roles are switched." "" -1 -1 1200
    ]
]

newgui trialmarathon [
    guiheader "time-trial marathon mutator"
    guilist [
        guiimage "textures/modes/trialmarathon" [] 2
        guistrut 2
        guitext "Instead of competing for the fastest overall time, players and teams compete for the most number of laps." "" -1 -1 1200
    ]
]

newgui trialendurance [
    guiheader "time-trial endurance mutator"
    guilist [
        guiimage "textures/modes/trialendurance" [] 2
        guistrut 2
        guitext "Your impulse meter is not restored upon death or checkpoint respawn. Also slows down impulse regeneration, so plan your route carefully!" "" -1 -1 1200
    ]
]

newgui trialgauntlet [
    guiheader "time-trial gauntlet mutator"
    guilist [
        guiimage "textures/modes/trialgauntlet" [] 2
        guistrut 2
        guitext "One team races to reach the goal and score points, while the other teams try to attack them before they can reach the end. Afer a set time, the roles are switched." "" -1 -1 1200
    ]
]

newgui accounts [
    guiheader "player accounts"
    guifont "emphasis" [
        guicenter [ guibutton "how to obtain an account" "showgui obtain-account" ]
        guicenter [ guibutton "account auth levels" "showgui account-levels" ]
    ]
    if (&& (strlen $accountname) (strlen $accountpass) ) [
        guistrut 1
        guicenter [
            guitext (format "logged in as ^fs^fc%1^fS" $accountname)
            guifont "little" [
                guibutton " ^fs^fy(change)^fS" [ showgui profile 4 ]
            ]
        ]
    ]
]

newgui obtain-account [
    guiheader "obtain an account"
    guicenter [ guitext "You may apply for an account by filling out the form at the following URL:" ]
    guicenter [ guitext "^fs^fchttp://redeclipse.net/apply^fS" ]
    guistrut 0.5
    guicenter [ guitext "Accounts are processed manually, please allow 1-2 weeks for processing."]
    guicenter [ guitext "Global Moderator applications are closed, you will need a referral"]
    guicenter [ guitext "from an existing team member at this time."]
]

newgui account-levels [
    guiheader "account auth levels"
    guicenter [ guitext "There are two types of auth accounts in Red Eclipse, ^fs^fyglobal auth^fS and ^fs^fclocal auth^fS. The former are assigned by the Red Eclipse team and are functional globally across all servers, the latter are assigned by server owners and local only to that server. Auth accounts are represented by small icons shown next to player names, each with different privileges and responsibilities." "" -1 -1 2100 ]
    guistrut 1
    guitext "The following signify ^fs^fyglobal^fS privileges across all servers:"
    guistrut 0.5
    guilist [
        guilist [
            looplist i [bot none player supporter moderator operator administrator developer founder] [
                guitext  $i (format "privs/%1" $i) 0xFFFF00
            ]
        ]
        guistrut 1
        guilist [
            guitext "This icon marks A.I. controlled players."
            guitext "These are default players with no account." 
            guitext "Registered players with regular accounts."
            guitext "Those players who contributed in some way."
            guitext "Can moderate games, e.g. mute or kick players."
            guitext "Advanced moderation, can change most variables."
            guitext "Admins have full control of server settings."
            guitext "These are the core developers of the project."
            guitext "The crown icon is for the founders of the project."
        ]
    ]
    guistrut 1
    guitext "Furthermore, some ^fs^fclocal^fS privileges can be granted on individual servers:"
    guistrut 0.5
    guilist [
        guilist [
            looplist i [supporter moderator operator administrator] [
                guitext  $i (format "privs/local%1" $i) 0x00FFFF
            ]
        ]
        guistrut 1
        guilist [
            guitext "Has no special permissions per default."
            guitext "Can moderate games on this server."
            guitext "Has advanced rights on this server."
            guitext "This is often used by server owners."
        ]
    ]
]

newgui parkour [
    guiheader "parkour"
    guitext (format "Parkour or impulse moves greatly enhance your mobility, but deplete your impulse meter. Press %1 to crouch and refill the meter more quickly. You can do at most %2 impulse moves without landing on save ground." (dobindsearch crouch) $impulsecount) "" -1 -1 2100 
    guitext (format "^fyMelee:^fw Jump at an enemy and hold %1 to attack with a kick. You can also inflict collision damage with a ^fyslide^fw or ^fywall run^fw, as described below." (dobindsearch special) ) "textures/point" -1 -1 2100 
    guistrut 0.5
    guitext (format "^fyBoost:^fw Press %1 while jumping or falling. This propels you in the direction you are facing and redirects momentum, such as falling speed. Jumps and boosts can be chained to build up speed quickly." (dobindsearch jump) ) "textures/point" -1 -1 2100 
    guistrut 0.5
    guitext (format "^fyImpulse jump:^fw Stop moving before you ^fyboost^fw to get an upwards push that redirects all horizontal momentum. This is useful to land on small platforms." (dobindsearch jump) ) "textures/point" -1 -1 2100 
    guistrut 0.5
    guitext (format "^fyWall run:^fw Jump at a wall to your side and press %1. This move is a fast and easy way to cover wide distances. It can be followed by a ^fyboost^fw, just like all of the below wall moves. " (dobindsearch special) ) "textures/point" -1 -1 2100 
    guistrut 0.5
    guitext (format "^fyWall jump:^fw Press %1 during a ^fywall run^fw. In essence, this allows you to perform two consecutive ^fyboosts^fw." (dobindsearch jump) ) "textures/point" -1 -1 2100 
    guistrut 0.5
    guitext (format "^fyVault:^fw Hold %1 to vault over ledges or any obstacle below your eye level. This also works while on ground." (dobindsearch special) ) "textures/point" -1 -1 2100 
    guistrut 0.5
    guitext (format "^fyWall kick:^fw Jump at a wall and press %1 to bounce off. Look either up or down to gain more height." (dobindsearch special) ) "textures/point" -1 -1 2100 
    guistrut 0.5
    guitext (format "^fyWall climb:^fw Jump at a wall, look up or down vertically and hold %1. If you bounce, adjust your facing angle." (dobindsearch special) ) "textures/point" -1 -1 2100 
    guistrut 0.5
    guitext (format "^fyDash:^fw Double-tap a movement key to perform an evasive manoeuvre (also works side- or backwards)." (dobindsearch jump) ) "textures/point" -1 -1 2100 
    guistrut 0.5
    guitext (format "^fySlide:^fw Hold %1 to crouch and then do a ^fydash^fw. Alternately, jump forward and press %1 when you land." (dobindsearch crouch) ) "textures/point" -1 -1 2100 
    guistrut 0.5
    guitext (format "^fyLaunch:^fw During a ^fyslide^fw, look up and press %1. Reaching the full launch height requires precise timing. You cannot ^fyboost^fw after a ^fylaunch^fw, unless you do a ^fywall kick^fw or ^fyvault^fw." (dobindsearch jump) ) "textures/point" -1 -1 2100 
    guistrut 0.5
    guitext (format "^fyMulti slide:^fw During a slide, look down and press %1. This allows you to chain slides, build up considerable momentum and ^fylaunch^fw even higher. " (dobindsearch jump) ) "textures/point" -1 -1 2100 
]

newgui rules [
    guiheader "rules"
    guifont "emphasis" [ guicenter [ guitext "RED ECLIPSE MULTIPLAYER GUIDELINES" ] ]
    guistrut 0.5
    guicenter [ guitext "In order to ensure a better experience for all players, the Red Eclipse" ]
    guicenter [ guitext "team asks that you comply with some simple guidelines:" ]
    guistrut 0.5
    guifont "little" [
        guicenter [ guitext "^fs^fgRespect^fS the rules of individual ^fs^fgservers^fS at all times." ]
        guicenter [ guitext "^fs^fgRespect^fS other ^fs^fgusers^fS when communicating and by playing fairly." ]
        guicenter [ guitext "^fs^fgObey^fS the requests of global ^fs^fgmoderators^fS without argument." ]
    ]
    guistrut 0.5
    guicenter [ guitext "The following are the full multiplayer guidelines for connecting to the Red Eclipse Master Server:" ]
    guistrut 0.5
    guicenter [
        guieditor doc/guidelines.txt -80 15
        textinit doc/guidelines.txt doc/guidelines.txt
        textmode 4
    ]
    guistrut 1
]

newgui scoring [
    guiheader "scoring"
    guicenter [ guitext "Scoring in Red Eclipse is handled using a very intricate Deathmatch Scoring System, with normal point gain" "" -1 -1 2100 ]
    guicenter [ guitext "and loss as well as bonus points from combos or sprees. Choose a specific topic to learn more:" "" -1 -1 2100 ]
    guistrut 0.5
    guifont "emphasis" [
        guicenter [ guibutton "point gain" "showgui point-gain" ]
        guicenter [ guibutton "point penalties" "showgui point-penalties" ]
        guicenter [ guibutton "combos" "showgui combos" ]
        guicenter [ guibutton "sprees" "showgui sprees" ]
        guicenter [ guibutton "non-deathmatch" "showgui non-deathmatch" ]
    ]
]

newgui point-gain [
    guiheader "point gain"
    guifont "emphasis" [
        guitext "Frags and Assists"
    ]
    guibar
    guilist [
        guistrut 2
        guiimage "textures/dead" [] 2
        guistrut 2
        guitext (format "The core objective of the entire game, land the killing shot on an enemy to earn a frag and %1 points. If you did not kill an opponent, but chipped in with a hit over the previous %2 seconds before death, your name is mentioned in the obituary line for an assist, and you receive one point. Multiple players can receive assists on the same kill, and in a team game this can result in multiple points from assists for the same team. Also note that it doesn't only count damage-dealing attacks, but some weapons that result in near-misses will still give off shockwaves that push players around, and one of those, no matter how slight, still qualifies you to receive an assist. This leads to the somewhat odd result that players can still earn assists even in Instagib mode." $fragbonus (*f 0.001 $assistkilldelay)) "" -1 -1 2100
    ]
    guistrut 1
    guifont "emphasis" [
        guitext "Head Shots"
    ]
    guibar
    guilist [
        guiimage "textures/rewards/headshot" [] 3
        guitext (format "If your killing shot hits the head, you get a %1-point bonus for this. Unique among all bonuses, Head Shot is not listed in the obituary line, only as a visual indicator on the screen of the player who scored it (or a pop-up shown above their head, from the other players' perspectives). You can also get a Head Shot message on a team kill, but in this case the message results in no additional points, positive or negative." $headshotpoints) "" -1 -1 2100
    ]
    guistrut 1
    guifont "emphasis" [
        guitext "First Blood"
    ]
    guibar
    guilist [
        guiimage "textures/rewards/firstblood" [] 3
        guitext (format "This bonus can only be awarded once in a match, providing a %1-point bonus to the first human player who scores a frag. Frags made by bot players are currently not taken into account for handing out First Blood, because bots (who don't have to load the graphical textures and models for a map) often have a several-second head start on the humans in getting set up." $firstbloodpoints) "" -1 -1 2100
    guistrut 1
    ]
]

newgui point-penalties [
    guiheader "point penalties"
    guifont "emphasis" [
        guitext "Team Kills"
    ]
    guibar
    guilist [
        guistrut 2
        guiimage textures/warning [] 2
        guistrut 2
        guitext (format "In team games, you have teammates for a reason. Don't kill them, and that includes not shooting yourself in the foot. Doing so brings a harsh penalty: %1 points are lost for a team kill, and any bonus for the kill is multiplied by -%2. The penalty is slightly mitigated to -3 points if the kill is attributed to a rocket, or to one of the sources of ongoing damage (bleeding, electric shock, or burn) but it's still not a good thing by any means. If you get enough team kills in an online game, the server will kick you, or even ban you from ever joining again, and undo the damage your destructive tendencies have had on the team's score." (* $teamkillpenalty $fragbonus)  $teamkillpenalty)  "" -1 -1 2100 // NOTE: Rocket/ residual penalty var?
    ]
    guistrut 1
    guifont "emphasis" [
        guitext "Suicides"
    ]
    guibar
    guilist [
        guistrut 2
        guiimage textures/dead [] 2
        guistrut 2
        guitext (format "If you somehow manage to hit yourself with your own bullets and run out of health that way, the result counts as a team kill and is subject to the above scoring. However, there are other ways to die: in some stages, you can jump off the edge into deep space or a lava pit or whatever fits the stage's scenery, eventually colliding with an instant-death plane. Also, you can press %1 at any time to immediately commit suicide. This is also not desirable, but the penalty for one of these deaths is comparatively light at only -1 point. Note that opponents who hit you just beforehand will still earn assists when this occurs." (dobindsearch "suicide") ) "" -1 -1 2100 // death penalty var?
    ]
    guistrut 1
    guifont "emphasis" [
        guitext "Enemies"
    ]
    guibar
    guilist [
        guistrut 2
        guiimage textures/modes/onslaught [] 2
        guistrut 2
        guitext (format "If the Onslaught mutator is selected, and if the chosen map provides for it by placing the appropriate spawn points, a neutral army of grunts, drones, and/or turrets will swarm the arena. These forces (collectively and internally known as 'enemies') do not have a place on the scoreboard, but if one of them administers a frag, the unfortunate victim loses %1 points from their score. Enemies can also be listed for assists, but these are totally inconsequential; there is no further penalty regardless of how many enemies chip in with assists. Killing an enemy adds to your frag count, but it isn't announced in the obituary feed, and it only provides %2 point instead of the usual %3. If the kill is a head shot (not applicable against turrets), you can earn a second point from that, but otherwise kills against enemies are not taken into account for any other bonuses such as Double Kill or Carnage." 3 $enemybonus $fragbonus ) "" -1 -1 2100 //penalty var?
    ]
    guistrut 1
]

newgui combos [
    guiheader "combos"
    guifont "emphasis" [
        guitext "Double Kill"
    ]
    guibar
    guilist [
        guiimage textures/rewards/double [] 3
        guitext "After you score a frag, if you get another frag within 5 seconds, it will be listed as a double kill. Although a message is shown to signify this, the double kill is worth no additional points beyond what you already get for the frags." "" -1 -1 2100
    ]
    guistrut 1
    guifont "emphasis" [
        guitext "Triple Kill"
    ]
    guibar
    guilist [
        guiimage textures/rewards/triple [] 3
    guitext "On the other hand, if you can get a third frag, still within 5 seconds of the first, you get a triple kill bonus, and this one actually does provide extra points. 3 of them, or 4 in case of a head shot (this is on top of the normal frag score, so you'll actually get a total of 6 or 8 points respectively). Other bonuses besides Head Shot will only be worth their normal points; there's no additional bonus for scoring them in combination with a triple kill." "" -1 -1 2100
    ]
    guistrut 1
    guifont "emphasis" [
        guitext "Multi Kill"
    ]
    guibar
    guilist [
        guiimage textures/rewards/multi [] 3
    guitext "And if you get a fourth frag that's still in the 5-second window, you get a multi kill bonus, the single most valuable bonus the game has to offer. It's worth 6 bonus points, or 8 if the kill is also a head shot. Lest the scoring spiral out of control, there are no bonuses for any sequence of quick frags beyond 4." "" -1 -1 2100
    ]
    guistrut 1
    guifont "emphasis" [
        guitext "Dominating"
    ]
    guibar
    guilist [
        guiimage textures/rewards/dominate [] 3
        guitext "If you frag the same opponent 5 times, possibly interspersed with any number of kills on other players, or even with your own deaths (as long as none of them were caused by that opponent), the fifth head-to-head kill in a row will give you a 1-point Dominating bonus. You can have active Dominating streaks on any number of other opponents, getting a point for each one, but there are no further bonuses for any consecutive head-to-head kills beyond 5. Also, if you have a Dominating streak against someone, that player will be able to see which direction you're in on their radar, no matter how far away you are. You will not receive the same luxury against them, so be careful! In addition, the dominated player will see 'Dominated' icon over your head and near your nickname in the stats screen to , while 'Dominating' icon will appear in the same places of the dominated player to you." "" -1 -1 2100
    ]
    guistrut 1
    guifont "emphasis" [
        guitext "Revenge"
    ]
    guibar
    guilist [
        guiimage textures/rewards/revenge [] 3
        guitext "If an opponent has a Dominating streak against you, track them down and frag them once to earn Revenge and a 1-point bonus, which also causes you to lose your constant sight of them on radar. After a streak has been broken with Revenge, it's possible to start up a new streak against the same player and score Dominating again. Or maybe the vengeful player will find their fortunes have turned around and they can start up a Dominating streak of their own. You never know!" "" -1 -1 2100
    ]
    guistrut 1
]

newgui sprees [
    guiheader "sprees"
    guifont "emphasis" [
        guitext "Carnage"
    ]
    guibar
    guilist [
        guiimage textures/rewards/carnage [] 3
        guistrut 2
        guitext "If you manage to get 5 frags in a row, regardless of how long they take, without dying or committing any team kills in between, the fifth one will give a message saying that it was 'in total carnage', and you receive 1 bonus point. Carnage can only be scored once per player per match; once you get a 5-streak, you won't get any more bonuses for further 5-streaks on subsequent lives." "" -1 -1 2100
    ]
    guifont "emphasis" [
        guitext "Slaughter"
    ]
    guibar
    guilist [
        guiimage textures/rewards/slaughter [] 3
        guistrut 2
        guitext "Slaughter is just like Carnage, but it requires a streak of 10 frags, and still only provides the same 1-point bonus. It doesn't have to be achieved on the same life that you get Carnage; you might have a streak of 7 frags and then die, which will prevent you from scoring Carnage again if you manage to string together another streak of 5 on your next life, but if you can extend the streak all the way to 10, you still get to score the Slaughter bonus. Again, once you do, that's the only Slaughter bonus you'll ever be allowed to earn in the entire match. Other players might still be able to earn one of their own, if they're proficient enough." "" -1 -1 2100
    ]
    guifont "emphasis" [
        guitext "Massacre"
    ]
    guibar
    guilist [
        guiimage textures/rewards/massacre [] 3
        guistrut 2
        guitext "Of course, it doesn't stop there. A streak of 15 frags earns the Massacre bonus, which is again 1 point, and is subject to the same once-per-match restriction as the others." "" -1 -1 2100
    ]
    guifont "emphasis" [
        guitext "Bloodbath"
    ]
    guibar
    guilist [
        guiimage textures/rewards/bloodbath [] 3
        guistrut 2
        guitext "Finally, the most difficult bonus in this category is the Bloodbath, which requires a streak of 20. The bonus, still only 1 point, might seem like a total rip-off compared to the level of mastery needed to score it, but it's better than nothing." "" -1 -1 2100
    ]
    guifont "emphasis" [
        guitext "Spree Breaker"
    ]
    guibar
    guilist [
        guiimage textures/rewards/breaker [] 3
        guistrut 2
        guitext "If you frag an opponent who has an active Carnage or higher bonus, you will get the Spree Breaker title and 1 extra point. Note that it's possible for the player on a killing spree to get team-killed, commit a team-kill, or commit suicide, in which case their spree will come to an end without allowing anyone to score the Spree Breaker." "" -1 -1 2100
    ]
    guistrut 3.5
]

newgui non-deathmatch [
    guiheader "non-deathmatch"
        guitext "Even though deathmatch scoring rules the day only in deathmatch mode, other game modes still allow you to see players' individual scores by pressing TAB. Although those scores don't actually affect the standings in most cases, points are awarded based on the above system, as well as a few mode-specific bonuses:" "" -1 -1 2100
    guistrut 1
    guifont "emphasis" [
        guitext "Capture-the-Flag"
    ]
    guibar
    guitext "- Fragging an opponent who holds your flag: 3 points (on top of the points already awarded for the frag)" "" -1 -1 2100 
    guitext (format "- Picking up an opponent's flag: %1 points" $capturepickuppoints) "" -1 -1 2100
    guitext "- Returning your flag to your base: 5 points. If Quick mode is on, you can score this simply by touching the flag; note that there is no bonus for picking up your own flag." "" -1 -1 2100
    guistrut 1
    guitext (format "- Capturing an opponent's flag: %1 points" $capturepoints) "" -1 -1 2100
    guistrut 1
    guifont "emphasis" [
        guitext "Defend-and-Control"
    ]
    guibar
    guitext "- Fragging an opponent who is defending one of their control points: 3 points (on top of the points already awarded for the frag)" "" -1 -1 2100
    guistrut 1
    guitext "- Standing near a control point of your own color: 1 point every 2.5 seconds, the same rate at which it adds to your team score. In non-King games, you can leave a control point and it will continue to provide points for your team as long as it remains your color, but it will no longer give points to your own score until you come back into its buff zone." "" -1 -1 2100
    guistrut 1
    guifont "emphasis" [
        guitext "Bomber-Ball"
    ]
    guibar
    guitext "- Fragging an opponent who holds the ball: 3 points (on top of the points already awarded for the frag)" "" -1 -1 2100
    guitext (format "- Picking up the ball: %1 points" $bomberpickuppoints) "" -1 -1 2100
    guitext (format "- Scoring a goal: %1 points" $bomberpoints) "" -1 -1 2100
    guitext "- Scoring an own goal: -5 points, and -1 point to the team score. Note that simply carrying the ball over your base does not count as an own goal; you have to throw the ball and let it fly or bounce into your goal to earn this dubious achievement. It is impossible to score an own goal if Touchdown is selected." "" -1 -1 2100
    guistrut 1
    guitext "- In the Hold mutator, deathmatch scores are not used. Instead, each player's listed score will simply be their contribution to the team score, if it's a team game. Players score 1 point for each second they hold onto the ball, with a penalty of -10 points for holding onto the ball too long and having the timer run out. No other actions affect the points in the Hold mutator." "" -1 -1 2100
    guistrut 1
    guifont "emphasis" [
        guitext "Duel/Survivor"
    ]
    guibar
    guitext "If either one of these modes are selected, regardless of game type, players' scores are replaced by a different system that tracks the number of rounds they've scored in, and thus their contribution to the team score if it's a team game. In a survivor deathmatch, the winning team only receives 1 point per round regardless of how many players are still alive, but each surviving player at the end gets a point to their own credit. The one exception is that multi-survivor Capture the Flag offers the unique possibility of earning up to 3 points per round (by capturing all 3 other flags simultaneously)." "" -1 -1 2100
    guistrut 1.5
]