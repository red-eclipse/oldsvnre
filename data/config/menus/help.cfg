newgui help [
    guilist [
        if ($isconnected) [
            guilist [
                guione [
                    if ($mutators) [
                        guicenter [guifont "emphasis" [ guitext "Current ^fs^fcmode^fS and ^fs^fymutators^fS:"]]
                    ] [
                        guicenter [guifont "emphasis" [ guitext "Current ^fs^fcmode^fS:"]]
                    ]
                    guilist [
                        guispring
                        guiimage (modetexlist $gamemode) [] 2
                        looplist i (modetexlist $gamemode $mutators) [
                            guiimage $i [] 2
                        ]
                        guispring
                    ]
                    guicenter [ guitext ( concatword  "^fc" (modedesc $gamemode 1 3) ) ]
                    loop i $mutsidxnum [
                        if (& (<< 1 $i) $mutators) [  
                            guicenter [ guitext ( concatword  "^fy" (mutsdesc $gamemode (<< 1 $i) 3) ) ]
                        ]
                    ]
                ]
            ]
            guistrut 0.5
            guibar
            guistrut 0.5
        ]
        guione [
            guilist [
                guifont "emphasis" [
                    guicenter [ guibutton "about" "showgui about" ]
                    guicenter [ guibutton "game modes" "showgui modes" ]
                    guicenter [ guibutton "live support" "showgui support" ]
                    guicenter [ guibutton "mode mutators" "showgui mutators" ]
                    guicenter [ guibutton "multiplayer guidelines" "showgui rules" ]
                    guicenter [ guibutton "parkour" "showgui parkour" ]
                    guicenter [ guibutton "player authentication" "showgui auth" ]
                    guicenter [ guibutton "scoring" "showgui scoring" ]
                ]
            ]
        ]
    ]
]

newgui about [
    guione [
        guicenter [ guitext "Red Eclipse Engine" ]
        guifont "little" [
            guicenter [ guitext "(C) 2010-2014 Quinton Reeves, Lee Salzman" ]
            guicenter [ guitext "http://www.redeclipse.net/" ]
        ]
        guistrut 1
        guicenter [ guitext "Red Eclipse Data" ]
        guifont "little" [
            guicenter [ guitext "(C) 2010-2014 Red Eclipse Team" ]
            guicenter [ guitext "http://www.redeclipse.net/" ]
        ]
        guistrut 1
        guicenter [ guitext "Based on Cube Engine 2" ]
        guifont "little" [
            guicenter [ guitext "(C) 2001-2014 Wouter van Oortmerssen, Lee Salzman" ]
            guicenter [ guitext "Mike Dysart, Robert Pointon, and Quinton Reeves" ]
            guicenter [ guitext "http://sauerbraten.org/" ]
        ]
    ]
]

newgui modes [
    guifont "emphasis" [
        guicenter [ guibutton "demo" "showgui demo" ]
        guicenter [ guibutton "editing" "showgui edit" ]
        guicenter [ guibutton "deathmatch" "showgui deathmatch" ]
        guicenter [ guibutton "capture-the-flag" "showgui capture-the-flag" ]
        guicenter [ guibutton "defend-and-control" "showgui defend-and-control" ]
        guicenter [ guibutton "bomber-ball" "showgui bomberball" ]
        guicenter [ guibutton "time-trial" "showgui time-trial" ]
    ]
]

newgui demo [
]

newgui edit [
]

newgui deathmatch [
    guilist [
        guiimage "textures/modes/deathmatch" [] 2
        guistrut 0.5
        guilist [
            guistrut 1
            guicenter [ guitext "Attack enemy players gathering frags, assists, sprees and other bonuses to score points." ]
            guicenter [ guitext "The team or individual with the most points at the end wins!" ]
        ]
    ]
    guitab "tips & strategy"
        guistrut 0.5
        guitext "tip one" point
        guitext "tip two" point
        guitext "tip three" point
    guitab "practice"
]

newgui capture-the-flag [
    guilist [
        guiimage "textures/modes/capture" [] 2
        guistrut 0.5
        guilist [
            guistrut 1
            guicenter [ guitext "Capture the enemy team's flag and return it to your base while defending your own flag from capture." ]
            guicenter [ guitext "Both flags returned to your base scores a point, the team with the most points at the end wins!" ]
        ]
    ]
    guitab "tips & strategy"
        guistrut 0.5
        guitext "tip one" point
        guitext "tip two" point
        guitext "tip three" point
    guitab "mutators"
        guistrut 0.5
        guitext "discuss mode-specific mutator quick" point
        guitext "discuss mode-specific mutator defend" point
        guitext "discuss mode-specific mutator protect" point
    guitab "practice"
]

newgui defend-and-control [
]

newgui bomber-ball [
]

newgui time-trial [
]

newgui support [
    ircgui freenode
] [
    if (= $guipasses 0) [
        ircaddclient freenode irc.freenode.net 6667 (getplayername)
        ircaddchan freenode #redeclipse
    ]
]

newgui mutators [
    guifont "emphasis" [
        guicenter [ guibutton "multi" "showgui multi" ]
        guicenter [ guibutton "ffa" "showgui ffa" ]
        guicenter [ guibutton "co-op" "showgui co-op" ]
        guicenter [ guibutton "instagib" "showgui instagib" ]
        guicenter [ guibutton "medieval" "showgui medieval" ]
        guicenter [ guibutton "kaboom" "showgui kaboom" ]
        guicenter [ guibutton "duel" "showgui duel" ]
        guicenter [ guibutton "survivor" "showgui survivor" ]
        guicenter [ guibutton "classic" "showgui classic" ]
        guicenter [ guibutton "onslaught" "showgui onslaught" ]
        guicenter [ guibutton "freestyle" "showgui freestyle" ]
        guicenter [ guibutton "vampire" "showgui vampire" ]
        guicenter [ guibutton "resize" "showgui resize" ]
        guicenter [ guibutton "hard" "showgui hard" ]
        guicenter [ guibutton "quick" "showgui quick" ]
        guicenter [ guibutton "defend" "showgui defend" ]
        guicenter [ guibutton "protect" "showgui protect" ]
        guicenter [ guibutton "king" "showgui king" ]
        guicenter [ guibutton "hold" "showgui hold" ]
        guicenter [ guibutton "basket" "showgui basket" ]
        guicenter [ guibutton "attack" "showgui attack" ]
        guicenter [ guibutton "marathon" "showgui marathon" ]
        guicenter [ guibutton "endurance" "showgui endurance" ]
        guicenter [ guibutton "gauntlet" "showgui gauntlet" ]
    ]
]

newgui rules [
    guistrut 0.5
    guifont "emphasis" [
        guitext "- Respect the rules of individual servers at all times"
        guitext "- Respect other players to ensure a better experience for everyone"
        guitext "- Failure to follow these guidelines will result in swift and harsh concequences"
    ]
    guistrut 1
    guifont "play" [
        guicenter [ guitext "the following are the full multiplayer guidelines for online gameplay:" ]
    ]
    guistrut 0.5
    guicenter [
        guieditor doc/guidelines.txt -80 15
        textinit doc/guidelines.txt doc/guidelines.txt
        textmode 4
    ]
    guistrut 1
]

newgui auth [
    guifont "emphasis" [
        guicenter [ guibutton "how to obtain an account" "showgui obtain-account" ]
        guicenter [ guibutton "account levels" "showgui account-levels" ]
    ]
    guistrut 1
    guifont "small" [
        guicenter [
            guitext "logged in as "
            guitext ( concatword "^fc" $accountname )
        ]
    ]
]

newgui obtain-account [
    guifont "emphasis" [
        guicenter [ guitext "you may apply for an account by filling out the form at the following url:" ]
        guicenter [ guitext "^fchttp://redeclipse.net/apply" ]
        guistrut 0.5
        guicenter [ guitext "accounts are processed manually, please allow 1-2 weeks for processing" ]
    ]
]

newgui account-levels [
]