#!/bin/bash

find_src_files ()
{
    find "$1" \
    ! -wholename '*include*' \
    ! -wholename '*xcode*' \
    ! -wholename '*enet*' \
    \( \
        -name '*.c' \
        -or -name '*.h' \
        -or -name '*.cpp' \
        -or -name '*.hpp' \
    \)
}

format_name ()
{
    echo "$1" | sed 's%^setdesc "\([^"]*\)".*%\1%'
}

format_desc ()
{
    echo "$1" | sed 's%^setdesc "[^"]*" \[\([^]]*\)\].*%\1%'
}

format_param ()
{
    echo "$1" | sed -ne 's%^setdesc "[^"]*" \[[^]]*\] "\([^"]*\)"%\1%p' -e 's% %\&nbsp;%g'
}

noedit_header ()
{
    echo -e "This page was automatically generated from the source of Red Eclipse, please do not edit it manually.\n"
}

table_header ()
{
    cat <<EOF
{| border="1" class="wikitable sortable"
! Name&nbsp;&&nbsp;Parameters
! class="unsortable"|Description
! Type
! class="unsortable"|Range
! class="unsortable"|Default&nbsp;Value
EOF
}

table_entry ()
{
    cat <<EOF
|-
| '''$1'''&nbsp;''$2''
| $3
| $4
| $5
| $6
EOF
}

table_header_simple ()
{
    cat <<EOF
{| border="1" class="wikitable sortable"
! Name&nbsp;&&nbsp;Parameters
! class="unsortable"|Description
! Type
EOF
}

table_entry_simple ()
{
    cat <<EOF
|-
| '''$1'''&nbsp;''$2''
| $3
| $4
EOF
}

table_end ()
{
    echo "|}"
}

